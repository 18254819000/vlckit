From fc9583db4fd0940236c9470f8516d9a886aba8eb Mon Sep 17 00:00:00 2001
From: Tristan Matthews <tmatth@videolan.org>
Date: Fri, 8 Jan 2016 18:53:22 +0100
Subject: [PATCH 19/20] adjust: fix contrast calculation

Regression from b5662ea90b8b67d6cddb0f4f0106671d1e7f3821
---
 modules/video_filter/adjust.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/modules/video_filter/adjust.c b/modules/video_filter/adjust.c
index 49dbfc5..ea50221 100644
--- a/modules/video_filter/adjust.c
+++ b/modules/video_filter/adjust.c
@@ -296,7 +296,7 @@ static picture_t *FilterPlanar( filter_t *p_filter, picture_t *p_pic )
         /* Fill the luma lookup table */
         for( unsigned i = 0 ; i < i_size; i++ )
         {
-            pi_luma[ i ] = pi_gamma[VLC_CLIP( ( i_lum + i_cont * i / i_range), 0, i_max )];
+            pi_luma[ i ] = pi_gamma[VLC_CLIP( (int)(i_lum + i_cont * i / i_range), 0, i_max )];
         }
     }
     else
-- 
2.7.0

